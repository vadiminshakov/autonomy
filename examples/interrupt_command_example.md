# Пример использования interrupt_command

## Описание

Инструмент `interrupt_command` предназначен для выполнения команд с автоматическим прерыванием долгих процессов. Он особенно полезен для команд, которые могут "зависнуть" или выполняться очень долго.

## Основные возможности

- **Автоматическое прерывание**: команды прерываются через 10 секунд
- **Анализ вывода**: автоматический анализ того, что происходило с командой
- **Безопасность**: проверка на опасные команды
- **Запись состояния**: сохранение информации о прерванных командах

## Примеры использования

### 1. Долгая команда Go

```bash
# Вместо обычного execute_command, который может зависнуть
interrupt_command "go run main.go"

# Результат: команда будет прервана через 10 секунд с анализом вывода
```

### 2. Команда с загрузкой

```bash
# Команды, которые могут долго загружать зависимости
interrupt_command "npm install"
interrupt_command "go mod download"
```

### 3. Команды тестирования

```bash
# Тесты, которые могут зависнуть
interrupt_command "go test ./... -v"
interrupt_command "npm test"
```

## Анализ вывода

Инструмент автоматически анализирует вывод команды и определяет:

- **Ошибки и предупреждения**
- **Текущую фазу выполнения** (сборка, тестирование, загрузка)
- **Последние строки вывода**
- **Тип команды** (Go, Node.js, etc.)

## Отличия от execute_command

| execute_command | interrupt_command |
|----------------|-------------------|
| Таймаут: 60 секунд | Таймаут: 10 секунд |
| Ждет завершения | Автоматически прерывает |
| Простой вывод | Анализ + вывод |
| Подходит для быстрых команд | Подходит для долгих команд |

## Рекомендации по использованию

1. **Используйте `execute_command`** для быстрых команд (до 1 минуты)
2. **Используйте `interrupt_command`** для команд, которые могут выполняться долго
3. **Анализируйте вывод** прерванных команд для понимания проблем
4. **Проверяйте состояние задачи** через `get_task_state` для получения информации о прерванных командах

## Пример вывода

```
command was interrupted after 10 seconds. output analysis:

• errors detected in output
• command was in build/compilation phase
• this appears to be a Go command that may need more time to complete
• last output lines:
  building...
  compiling main.go
  linking...

partial output:
building...
compiling main.go
linking...
```
